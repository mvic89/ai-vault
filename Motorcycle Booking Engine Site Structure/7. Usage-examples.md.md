(Real-world scenarios)

# Usage Examples & Workflows

This document provides real-world usage examples for the OSM Motorcycle Repair Shop Extractor.

## Table of Contents

1. [Getting Started](#getting-started)
2. [Basic Usage](#basic-usage)
3. [Advanced Usage](#advanced-usage)
4. [Country-Specific Examples](#country-specific-examples)
5. [Data Processing Workflows](#data-processing-workflows)
6. [Common Scenarios](#common-scenarios)

---

## Getting Started

### First Time Setup

```bash
# 1. Install dependencies
pip install -r requirements.txt

# 2. List available countries
python osm_mc_repair_extractor.py --list-countries

# 3. Test with smallest country
python osm_mc_repair_extractor.py luxembourg
```

### Verify Installation

```bash
# Quick test (should list countries)
python osm_mc_repair_extractor.py --list-countries
```

---

## Basic Usage

### Single Country Extraction

**Smallest countries (fastest):**

```bash
# Luxembourg (25 MB, <1 min)
python osm_mc_repair_extractor.py luxembourg

# Malta (15 MB, <1 min)
python osm_mc_repair_extractor.py malta

# Cyprus (35 MB, <1 min)
python osm_mc_repair_extractor.py cyprus
```

**Medium countries:**

```bash
# Netherlands (900 MB, 5-10 min)
python osm_mc_repair_extractor.py netherlands

# Belgium (450 MB, 3-5 min)
python osm_mc_repair_extractor.py belgium

# Austria (400 MB, 3-5 min)
python osm_mc_repair_extractor.py austria
```

**Large countries:**

```bash
# Germany (3.8 GB, 30-40 min)
python osm_mc_repair_extractor.py germany

# France (3.6 GB, 30-40 min)
python osm_mc_repair_extractor.py france

# Italy (2.4 GB, 20-30 min)
python osm_mc_repair_extractor.py italy
```

### Multiple Countries

```bash
# Benelux countries
python osm_mc_repair_extractor.py netherlands belgium luxembourg

# Nordic countries
python osm_mc_repair_extractor.py sweden denmark finland

# Baltic states
python osm_mc_repair_extractor.py estonia latvia lithuania
```

---

## Advanced Usage

### Custom Output Files

```bash
# Regional output files
python osm_mc_repair_extractor.py germany austria --output dach_region.csv
python osm_mc_repair_extractor.py spain portugal --output iberia.csv
python osm_mc_repair_extractor.py poland czech-republic slovakia --output central_europe.csv
```

### Custom Download Directory

```bash
# Store downloads in specific location
python osm_mc_repair_extractor.py germany --download-dir /path/to/osm/data
```

### Skip Re-downloading

```bash
# If you already downloaded files and want to re-process
python osm_mc_repair_extractor.py germany france --skip-download
```

### Force Fresh Download

```bash
# Re-download files even if they exist (get latest data)
python osm_mc_repair_extractor.py germany --force-redownload
```

---

## Country-Specific Examples

### Germany (Most Shops Expected)

```bash
# Standard extraction
python osm_mc_repair_extractor.py germany --output de_motorcycle_shops.csv

# Expected results: 2,000-4,000 shops
# Processing time: 30-40 minutes
# File size: ~3.8 GB download
```

### France

```bash
python osm_mc_repair_extractor.py france --output fr_motorcycle_shops.csv

# Expected results: 1,500-3,000 shops
# Processing time: 30-40 minutes
# File size: ~3.6 GB download
```

### Italy

```bash
python osm_mc_repair_extractor.py italy --output it_motorcycle_shops.csv

# Expected results: 1,000-2,500 shops
# Processing time: 20-30 minutes
# File size: ~2.4 GB download
```

### Spain

```bash
python osm_mc_repair_extractor.py spain --output es_motorcycle_shops.csv

# Expected results: 800-2,000 shops
# Processing time: 15-20 minutes
# File size: ~1.8 GB download
```

### United Kingdom (via Ireland Extract)

```bash
# Note: Uses ireland-and-northern-ireland extract which includes UK data
python osm_mc_repair_extractor.py ireland --output uk_motorcycle_shops.csv

# Expected results: 1,000-2,000 shops
# Processing time: 15-20 minutes
```

---

## Data Processing Workflows

### Workflow 1: Test-Then-Scale

Perfect for first-time users:

```bash
# Step 1: Test with small country
python osm_mc_repair_extractor.py luxembourg --output test_output.csv

# Step 2: Inspect the CSV
head test_output.csv
wc -l test_output.csv

# Step 3: Process your target countries
python osm_mc_repair_extractor.py germany france italy --output main_data.csv
```

### Workflow 2: Regional Batches

Process Europe in logical regions:

```bash
# Western Europe
python osm_mc_repair_extractor.py germany france netherlands belgium luxembourg \
    --output western_europe.csv

# Southern Europe
python osm_mc_repair_extractor.py spain italy portugal greece \
    --output southern_europe.csv

# Northern Europe
python osm_mc_repair_extractor.py sweden denmark finland \
    --output northern_europe.csv

# Eastern Europe
python osm_mc_repair_extractor.py poland czech-republic slovakia hungary \
    --output eastern_europe.csv
```

### Workflow 3: Progressive Download

Download large countries separately, then process together:

```bash
# Day 1: Download large countries
python osm_mc_repair_extractor.py germany

# Day 2: Download more
python osm_mc_repair_extractor.py france italy spain

# Day 3: Process all without re-downloading
python osm_mc_repair_extractor.py germany france italy spain \
    --skip-download --output all_major_countries.csv
```

### Workflow 4: Fresh Data Updates

Monthly update workflow:

```bash
# Re-download and process for fresh data
python osm_mc_repair_extractor.py germany france \
    --force-redownload --output motorcycle_shops_nov2025.csv
```

---

## Common Scenarios

### Scenario 1: Starting a Directory Website

**Goal:** Get data for your country + neighbors

```bash
# Example: Netherlands-based business
python osm_mc_repair_extractor.py netherlands belgium germany \
    --output nl_region_shops.csv
```

### Scenario 2: Market Research

**Goal:** Compare motorcycle shop density across countries

```bash
# Extract data for comparison
python osm_mc_repair_extractor.py germany france italy spain uk \
    --output market_research.csv

# Then analyze in spreadsheet/database:
# - Count shops per country
# - Calculate shops per capita
# - Identify underserved regions
```

### Scenario 3: Touring Route Planning

**Goal:** Find shops along motorcycle touring routes

```bash
# Alpine region
python osm_mc_repair_extractor.py austria switzerland italy france \
    --output alpine_tour_shops.csv

# Mediterranean coast
python osm_mc_repair_extractor.py france spain italy greece \
    --output mediterranean_shops.csv
```

### Scenario 4: Data Quality Project

**Goal:** Find missing/incomplete shop data to improve OSM

```bash
# Extract your region
python osm_mc_repair_extractor.py denmark --output denmark_shops.csv

# Review CSV for:
# - Shops without phone numbers
# - Shops without addresses
# - Shops without websites
# → Add this information to OpenStreetMap
```

### Scenario 5: All EU Countries

**Goal:** Complete EU-wide database

```bash
# Process all 27 EU countries (will take several hours)
python osm_mc_repair_extractor.py \
    austria belgium bulgaria croatia cyprus czech-republic \
    denmark estonia finland france germany greece hungary \
    ireland italy latvia lithuania luxembourg malta \
    netherlands poland portugal romania slovakia slovenia \
    spain sweden \
    --output complete_eu_motorcycle_shops.csv

# Estimated time: 4-6 hours
# Estimated disk space needed: ~35-40 GB
# Expected results: 15,000-30,000 shops
```

### Scenario 6: Incremental Updates

**Goal:** Add new country to existing dataset

```bash
# You already have: western_europe.csv
# Now add Austria:

# 1. Extract Austria
python osm_mc_repair_extractor.py austria --output austria_only.csv

# 2. Merge CSVs manually or with script:
# (In Python, pandas, or spreadsheet software)
```

---

## Performance Optimization Tips

### Tip 1: Use SSD Storage

Store downloads on SSD for 2-3x faster processing:

```bash
python osm_mc_repair_extractor.py germany --download-dir /ssd/osm_data
```

### Tip 2: Process During Off-Hours

Large extractions can be resource-intensive. Consider:

```bash
# Linux/Mac: Run in background
nohup python osm_mc_repair_extractor.py germany france italy > extraction.log 2>&1 &

# Check progress
tail -f extraction.log
```

### Tip 3: Batch Small Countries

Process multiple small countries efficiently:

```bash
python osm_mc_repair_extractor.py \
    luxembourg malta cyprus slovenia estonia latvia lithuania \
    --output small_countries.csv
# Combined size: ~300 MB, takes ~5 minutes
```

---

## Troubleshooting Examples

### Problem: Out of disk space

**Solution:** Process countries individually and delete PBF after:

```bash
# Process one country
python osm_mc_repair_extractor.py germany --output germany.csv

# Delete PBF to free space
rm osm_downloads/germany-latest.osm.pbf

# Process next country
python osm_mc_repair_extractor.py france --output france.csv
```

### Problem: Process killed (out of memory)

**Solution:** Process smaller countries or upgrade RAM:

```bash
# Instead of processing all at once:
python osm_mc_repair_extractor.py germany france italy spain

# Process individually:
python osm_mc_repair_extractor.py germany --output germany.csv
python osm_mc_repair_extractor.py france --output france.csv
# ... then merge CSVs
```

### Problem: Download interrupted

**Solution:** Just re-run the same command:

```bash
# Downloads are resumable - just run again
python osm_mc_repair_extractor.py germany
# Will continue from where it left off
```

---

## Post-Processing Examples

### Convert to Excel

```python
import pandas as pd

# Read CSV
df = pd.read_csv('motorcycle_repair_shops.csv')

# Save as Excel
df.to_excel('motorcycle_repair_shops.xlsx', index=False)
```

### Filter by Country

```python
import pandas as pd

df = pd.read_csv('motorcycle_repair_shops.csv')

# Get only German shops
german_shops = df[df['address_country'] == 'DE']
german_shops.to_csv('german_shops_only.csv', index=False)
```

### Import to Database

```python
import pandas as pd
import sqlite3

# Read CSV
df = pd.read_csv('motorcycle_repair_shops.csv')

# Create SQLite database
conn = sqlite3.connect('motorcycle_shops.db')
df.to_sql('repair_shops', conn, if_exists='replace', index=False)

# Now you can query:
# SELECT * FROM repair_shops WHERE address_country = 'DE';
```

---

## Need Help?

If you encounter issues:

1. Check the README.md for detailed documentation
2. Verify country spelling with `--list-countries`
3. Start with a small country (Luxembourg) to test
4. Check disk space and memory availability
5. Review error messages carefully

## Contributing Back to OSM

Found missing or incorrect data? Help improve OpenStreetMap:

1. Visit https://www.openstreetmap.org
2. Create a free account
3. Add/update motorcycle repair shops
4. Changes appear in extracts within 24 hours

---

Happy mapping! 🏍️